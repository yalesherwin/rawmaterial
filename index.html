<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>çƒ­å·å®æ—¶ä»·æ ¼ - çœ‹ç›˜ç³»ç»Ÿ</title>
  <style>
    body {
      font-family: "Microsoft YaHei", sans-serif;
      background: #f0f4f7;
      text-align: center;
      padding: 50px;
    }
    h1 { color: #333; }
    .price-box {
      font-size: 2em;
      margin-top: 30px;
      color: #e53935;
    }
    .time-box {
      margin-top: 10px;
      font-size: 1em;
      color: #666;
    }
  </style>
</head>
<body>
  <h1>ğŸ”¥ çƒ­å·ä¸»åŠ›å®æ—¶ä»·æ ¼</h1>
  <div class="price-box" id="price">åŠ è½½ä¸­...</div>
  <div class="time-box" id="time"></div>

  <script>
    async function getPrice() {
      try {
        const proxy = 'https://bold-firefly-c84c.head-6c9.workers.dev/';
        const res = await fetch(proxy);
        const text = await res.text();
        const parts = text.split(',');
        const name = parts[0].split('="')[1];
        const now = parts[3];
        const high = parts[4];
        const low = parts[5];
        const open = parts[2];

        document.getElementById("price").innerText = `${name} å½“å‰ä»·ï¼š${now} å…ƒ/å¨`;
        document.getElementById("time").innerText =
          `ä»Šå¼€ï¼š${open}ï¼Œæœ€é«˜ï¼š${high}ï¼Œæœ€ä½ï¼š${low}ï¼Œæ›´æ–°æ—¶é—´ï¼š` + new Date().toLocaleTimeString();
      } catch (err) {
        document.getElementById("price").innerText = "åŠ è½½å¤±è´¥";
        console.error(err);
      }
    }

    getPrice();
    setInterval(getPrice, 10000); // æ¯10ç§’æ›´æ–°
  </script>
</body>
</html>
